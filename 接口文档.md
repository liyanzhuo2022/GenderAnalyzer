招聘广告性别偏向分析接口文档

（就一个接口哈哈哈）

接口名称
POST /analyze

接口描述
接收用户提交的招聘广告文本，调用算法模块进行性别偏向分析，返回各项分析结果与改写后的文本。适用于招聘广告自动评估与优化场景。

请求方法
POST

请求路径
/analyze_job_posting

请求头
参数名	类型	是否必填	描述
Content-Type	string	是	请求体格式，必须为 application/json

请求体参数
json
{
  "job_posting": "We are looking for a strong and ambitious leader to join our fast-paced team."
}
参数名	类型	是否必填	描述
job_posting	string	是	招聘广告原始文本内容

响应说明
成功响应
HTTP 状态码：200 OK

json
{
  "friendliness_score": 7.8,
  "dimension": "Balanced",
  "gender_word_distribution": {
    "male-coded": 12,
    "female-coded": 15
  },
  "detected_gender_words": {
    "male-coded": ["dominant", "strong"],
    "female-coded": ["understanding", "community"]
  },
  "additional_metrics": {},
  "rewritten_posting": "We are looking for a collaborative and driven team member to join our organization."
}
字段说明
字段名	类型	描述
friendliness_score	float	性别友好指数，范围为 0-10，保留一位小数
dimension	string	招聘广告的语义倾向分类，可选值为：Agentic / Balanced / Communal
gender_word_distribution	object	性别倾向词汇数量分布，包含 male-coded 与 female-coded 数量
detected_gender_words	object	检测到的性别倾向词列表，按类型划分
additional_metrics	object	预留字段，内容待定
rewritten_posting	string	改写后的招聘广告文本，避免性别倾向性表达

失败响应：

请求参数错误
HTTP 状态码：400 Bad Request
json
{
  "detail": "Invalid input. Please provide a non-empty job_posting string."
}

服务器错误
HTTP 状态码：500 Internal Server Error
json
{
  "detail": "Internal server error. Please try again later."
}

模块依赖说明（面向后端开发）
本接口将调用后续接入的 LLM 算法模块（如：analyze_gender_bias(text: str) -> dict）

当前接口可先 mock 以下字段以实现开发联调：
friendliness_score：float，0~10 随机数
dimension：字符串，随机从三类中选取
gender_word_distribution：固定字典
detected_gender_words：固定词列表
rewritten_posting：输入文本拼接提示词模拟输出

如需扩展接口或集成新算法模块，可在此文档后续版本中追加。